<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>WA Rotator</title>
    <script>
        function rotate() {
            const numbers = [
                "6282294009151",  // ...51 → Pak Kibi
                "6287854926871",  // ...71 → Pak Dani
                "6281280147354"   // ...54 → Pak Guntur
            ];

            // rotator index
            let index = localStorage.getItem("wa_index");
            if (index === null) {
                index = 0;
            } else {
                index = (parseInt(index) + 1) % numbers.length;
            }

            localStorage.setItem("wa_index", index);

            const selected = numbers[index];
            const lastTwo = selected.slice(-2);

            // TEMPLATE PESAN
            let message = "";

            if (lastTwo === "51") {
                message = "Halo Pak Kibi [GA] {LP}, saya mau tanya unitnya";
            } else if (lastTwo === "71") {
                message = "Halo Pak Dani [GA] {LP}, saya mau tanya unitnya";
            } else if (lastTwo === "54") {
                message = "Halo Pak Guntur [GA] {LP}, saya mau tanya unitnya";
            } else {
                message = "Halo kak [GA] {LP}, saya mau tanya unitnya";
            }

            // encode & redirect
            const encoded = encodeURIComponent(message);
            window.location.href = "https://wa.me/" + selected + "?text=" + encoded;
        }
    </script>
</head>

<body onload="rotate()">
    Redirecting...
</body>

</html>

