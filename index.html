<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>WA Rotator</title>
    <script>
        function rotate() {
            const numbers = [
                "6282294009151", // belakang 51 → Pak Kibi
                "6287854926871", // belakang 71 → Pak Dani
            ];

            // ambil index rotasi
            let index = localStorage.getItem("wa_index");
            if (index === null) {
                index = 0;
            } else {
                index = (parseInt(index) + 1) % numbers.length;
            }

            localStorage.setItem("wa_index", index);

            const selected = numbers[index];
            const lastTwo = selected.slice(-2);

            // template chat
            let message = "";

            if (lastTwo === "51") {
                message = "Halo Pak Kibi, saya mau tanya unitnya. [GA] {LP}";
            } else if (lastTwo === "71") {
                message = "Halo Pak Dani, saya mau tanya unitnya. [GA] {LP}";
            } else {
                message = "Halo kak, saya mau tanya unitnya. [GA] {LP}";
            }

            // encode untuk URL
            const encoded = encodeURIComponent(message);

            // redirect
            window.location.href = "https://wa.me/" + selected + "?text=" + encoded;
        }
    </script>
</head>

<body onload="rotate()">
    Redirecting...
</body>

</html>
